(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(62),l=t.n(r),o=t(54),s=t(29),i=t(17),d=t(18),m=t(22),p=t(20),u=t(26),E=t(55),h=t.n(E),_=function(e){return{type:"ADD_CONTACT",payload:e}},b=function(e){return{type:"DELETE_CONTACT",payload:e}},v=function(e,a,t){return{type:"SAVE_EDIT_FIELDS",payload:{id:e,fieldName:a,value:t}}},y=t(96),f=t(58),C=t(60),N=t(73),O=t(97),g=t(24),j=t.n(g),F=function(e){var a=e.label,t=Object(O.a)(e,["label"]),n=Object(f.c)(t),r=Object(N.a)(n,2),l=r[0],o=r[1];return c.a.createElement("div",{className:j.a.addContactForm},c.a.createElement("label",{className:j.a.fieldHeader,htmlFor:t.id||t.name},a),c.a.createElement("input",Object.assign({},l,t,{className:o.touched&&o.error?"".concat(j.a.entryField," ").concat(j.a.hasError):j.a.entryField})),c.a.createElement("div",{className:j.a.formMessage},o.touched&&o.error?c.a.createElement(c.a.Fragment,null,o.error):null))},S=[{label:"Name",name:"name",type:"text",placeholder:"Tsapko Evgenii"},{label:"Phone",name:"phone",type:"tel",placeholder:"+7(965)723-41-49"},{label:"Address",name:"address",type:"text",placeholder:"Ylitsa Stroiteleii, 16/24"},{label:"Company",name:"company",type:"text",placeholder:"Deko-line"},{label:"Email",name:"email",type:"email",placeholder:"TsapkoZh@gmail.com"}],L=function(e){return c.a.createElement("div",{className:j.a.addContactFormWrapper},c.a.createElement("h1",{className:j.a.title},"add contact"),c.a.createElement(f.b,{initialValues:{name:"",phone:"",address:"",company:"",email:""},validationSchema:C.a({name:C.b().max(30,"Must be 30 characters or less").required("Required"),phone:C.b().max(20,"Must be 20 characters or less").required("Required"),email:C.b().email("Invalid email address").required("Required")}),onSubmit:function(a,t){var n=t.setSubmitting;t.resetForm;n(!0),e.addContact(Object(y.a)({id:Date.now().toString()},a))}},c.a.createElement(f.a,{className:j.a.formWrapper},S.map((function(e){return c.a.createElement(F,Object.assign({},e,{key:e.name}))})),c.a.createElement("button",{className:j.a.btnWriteDown,type:"submit"},"ADD CONTACT"))))},w=t(3),x=t(92),D=t.n(x),P=t(78),k=t.n(P),A=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).handleKeyPress=function(a){var t={search:a.currentTarget.value.toLowerCase()},n=h.a.stringify(t);e.props.history.push({search:n})},e}return Object(d.a)(t,[{key:"render",value:function(){var e=h.a.parse(this.props.location.search).search;return c.a.createElement("div",{className:k.a.filterWrapper},c.a.createElement("img",{src:D.a,className:k.a.search,alt:"search"}),c.a.createElement("input",{value:e,className:k.a.searchField,onChange:this.handleKeyPress}))}}]),t}(n.PureComponent),T=Object(w.f)(A),I=t(2),M=t.n(I),W=t(8),K=t.n(W),H=t(64),U=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).handleDblClick=function(){n.setState({isEdit:!0}),window.addEventListener("keydown",n.handleKeyUpEnter),window.addEventListener("keydown",n.handleKeyUpEscape)},n.handleChange=function(e){var a=e.currentTarget.value.trim();""!==a&&n.setState({value:a})},n.handleSave=function(){var e=n.props.name,a=n.state.value;n.props.saveEditFields(e,a),n.setState({isEdit:!1})},n.handleKeyUpEnter=function(e){"Enter"===e.key&&n.handleSave()},n.handleKeyUpEscape=function(e){"Escape"===e.key&&n.handelCancel()},n.handelCancel=function(){n.setState({isEdit:!1,value:n.props.value}),window.removeEventListener("keydown",n.handleKeyUpEnter),window.removeEventListener("keydown",n.handleKeyUpEscape)},n.state={isEdit:!1,value:e.value},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state,a=e.isEdit,t=e.value,n=this.props,r=n.name,l=n.type,o=n.maxLength;return c.a.createElement("td",{className:"".concat(K.a.tableCell," ").concat(K.a.name),onDoubleClick:this.handleDblClick},a?c.a.createElement("input",{name:r,type:l,maxLength:o,value:t,onChange:this.handleChange,onBlur:this.handleSave,onKeyPress:this.handleKeyUp,autoFocus:!0,className:K.a.editContact}):c.a.createElement("span",null,t))}}]),t}(n.PureComponent),R=t(93),q=t.n(R),J=[{name:"name",type:"text",maxLength:"30"},{name:"phone",type:"tel",maxLength:"20"},{name:"address",type:"text",maxLength:"30"},{name:"company",type:"text",maxLength:"20"},{name:"email",type:"email",maxLength:"500"}],B=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).handleDelete=function(){var a=e.props,t=a.id;(0,a.delContact)(t)},e.handleSaveEdit=function(a,t){var n=e.props,c=n.id;(0,n.saveEditFields)(c,a,t)},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this,a=this.props.index;return c.a.createElement("tr",null,c.a.createElement("td",{className:"".concat(K.a.serialNumber)},c.a.createElement("p",null,a+1)),J.map((function(a){return c.a.createElement(U,Object.assign({},a,{key:a.name,value:e.props[a.name],saveEditFields:e.handleSaveEdit}))})),c.a.createElement("td",{className:"".concat(K.a.tableCell)},c.a.createElement("button",{type:"button",onClick:this.handleDelete,className:K.a.del},"\xd7")),c.a.createElement("td",{className:"".concat(K.a.tableCell)},c.a.createElement(H.a,{to:"/items/".concat(a+1)},c.a.createElement("img",{src:q.a,alt:"detail"}))))}}]),t}(n.PureComponent),V=[{title:"",id:"1"},{title:"NAME",id:"2"},{title:"PHONE",id:"3"},{title:"ADDRESS",id:"4"},{title:"COMPANY",id:"5"},{title:"EMAIL",id:"6"},{title:"",id:"7"},{title:"",id:"8"}],Z=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.contacts,t=e.delContact,n=e.saveEditFields;return c.a.createElement("table",{className:K.a.table},c.a.createElement("colgroup",null,c.a.createElement("col",{className:K.a.colSerNum}),c.a.createElement("col",{className:K.a.colName}),c.a.createElement("col",{className:K.a.colPhone}),c.a.createElement("col",{className:K.a.colAddress}),c.a.createElement("col",{className:K.a.colCompany}),c.a.createElement("col",{className:K.a.colEmail}),c.a.createElement("col",{className:K.a.colDelProp,span:"2"})),c.a.createElement("tbody",null,c.a.createElement("tr",null,V.map((function(e){return c.a.createElement("td",{key:e.id,className:K.a.tableCellHeader},e.title)}))),a.map((function(e,a){var r=e.id,l=e.name,o=e.phone,s=e.address,i=e.company,d=e.email;return c.a.createElement(B,{key:r,id:r,name:l,phone:o,address:s,company:i,email:d,index:a,delContact:t,saveEditFields:n})}))))}}]),t}(n.PureComponent);B.propTypes={name:M.a.string,phone:M.a.string,address:M.a.string,company:M.a.string,email:M.a.string,delContact:M.a.func,saveEditFields:M.a.func};var G=Z,Y=t(59),z=t.n(Y),Q=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.contacts,t=e.addContact,n=e.delContact,r=e.saveEditFields;return c.a.createElement("div",{className:z.a.wrapperContacts},c.a.createElement("div",{className:z.a.wrap},c.a.createElement("h1",{className:z.a.title},"phone book"),c.a.createElement("div",{className:z.a.wrapper},c.a.createElement(T,null),c.a.createElement(G,{contacts:a,delContact:n,saveEditFields:r}))),c.a.createElement(L,{addContact:t}))}}]),t}(n.PureComponent),X=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.contacts,t=e.addContact,n=e.saveEditFields,r=e.delContact;return c.a.createElement("div",null,c.a.createElement(Q,{contacts:a,addContact:t,delContact:r,saveEditFields:n}))}}]),t}(n.PureComponent),$=function(e,a){var t=h.a.parse(a).search;return t?e.filter((function(e){return Object.keys(e).some((function(a){return e[a].toLowerCase().includes(t)}))})):e},ee=Object(s.c)((function(e){return{contacts:$(e.contacts,e.router.location.search)}}),(function(e){return Object(u.bindActionCreators)({addContact:_,delContact:b,saveEditFields:v},e)}))(X),ae=t(25),te=t.n(ae),ne=Object(s.c)((function(e,a){var t=a.match.params.itemId;return{contact:e.contacts[t-1]}}))((function(e){var a=e.contact;return c.a.createElement("div",{className:te.a.contactProperties},c.a.createElement("h1",{className:te.a.name},a.name),c.a.createElement("div",{className:te.a.contactDetail},c.a.createElement("h5",{className:te.a.detailName},"PHONE"),c.a.createElement("p",{className:te.a.detail},a.phone),c.a.createElement("h5",{className:te.a.detailName},"ADDRESS"),c.a.createElement("p",{className:te.a.detail},a.address),c.a.createElement("h5",{className:te.a.detailName},"COMPANY"),c.a.createElement("p",{className:te.a.detail},a.company),c.a.createElement("h5",{className:te.a.detailName},"EMAIL"),c.a.createElement("p",{className:te.a.detail},a.email)))}));var ce=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(w.c,null,c.a.createElement(w.a,{exact:!0,path:"/phoneBook",component:ee}),c.a.createElement(w.a,{exact:!0,path:"/items/:itemId",component:ne})))},re=t(87),le=t(94),oe=t(13),se=t(95),ie=[],de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_CONTACT":return[].concat(Object(se.a)(e),[a.payload]);case"DELETE_CONTACT":return e.filter((function(e){return e.id!==a.payload}));case"SAVE_EDIT_FIELDS":return e.map((function(e){if(e.id===a.payload.id){var t=Object(N.a)(a.payload.value,1);a.payload.nameField=t[0]}return e}));default:return e}},me=function(e){return Object(u.combineReducers)({router:Object(o.b)(e),contacts:de})},pe=localStorage.getItem("reduxState")?{contacts:JSON.parse(localStorage.getItem("reduxState"))}:{},ue=Object(oe.a)();var Ee,he=(Ee=pe,Object(u.createStore)(me(ue),Ee,Object(u.compose)(Object(u.applyMiddleware)(Object(re.a)(ue)),Object(le.devToolsEnhancer)())));he.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(he.getState().contacts))}));var _e=c.a.createElement(s.a,{store:he},c.a.createElement(o.a,{history:ue},c.a.createElement(ce,null)));l.a.render(_e,document.getElementById("root"))},24:function(e,a,t){e.exports={addContactFormWrapper:"addContactForm_addContactFormWrapper__1bqNr",addContactForm:"addContactForm_addContactForm__2j-HP",formWrapper:"addContactForm_formWrapper__2yNyA",title:"addContactForm_title__52-Zs",entryField:"addContactForm_entryField__1GBeh",hasError:"addContactForm_hasError__3-AFs",fieldHeader:"addContactForm_fieldHeader__2_28f",btnWriteDown:"addContactForm_btnWriteDown__1dMN9",formMessage:"addContactForm_formMessage__2Uavp"}},25:function(e,a,t){e.exports={contactProperties:"contactProperties_contactProperties__3H4Su",name:"contactProperties_name__1Rpy1",contactDetail:"contactProperties_contactDetail__3UCiM",detailName:"contactProperties_detailName__3hCI3",detail:"contactProperties_detail__xLh7J"}},59:function(e,a,t){e.exports={wrapperContacts:"contacts_wrapperContacts__m3Fzn",title:"contacts_title__1R7cy",wrapper:"contacts_wrapper__3z4po"}},78:function(e,a,t){e.exports={filterWrapper:"filter_filterWrapper__1GyEa",search:"filter_search__1QLME",searchField:"filter_searchField__1KPxW"}},8:function(e,a,t){e.exports={table:"contactList_table__ZmKAs",tableCellHeader:"contactList_tableCellHeader__rOyC2",tableCell:"contactList_tableCell__1F4aX",editContact:"contactList_editContact__1etSS",serialNumber:"contactList_serialNumber__7J4px",del:"contactList_del__1w9U0",colSerNum:"contactList_colSerNum__FaE34",colName:"contactList_colName__3N6NL",colPhone:"contactList_colPhone__6GIT4",colAddress:"contactList_colAddress__1Omg8",colCompany:"contactList_colCompany__2mvnH",colEmail:"contactList_colEmail__1Vwot",colDelProp:"contactList_colDelProp__2LZ0S"}},92:function(e,a,t){e.exports=t.p+"static/media/search.822bc171.svg"},93:function(e,a,t){e.exports=t.p+"static/media/detail.01eb1f84.svg"},98:function(e,a,t){e.exports=t(120)}},[[98,1,2]]]);
//# sourceMappingURL=main.27b2e6c1.chunk.js.map