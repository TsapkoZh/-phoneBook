(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,a,t){e.exports=t(124)},123:function(e,a,t){},124:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(33),l=t.n(r),o=t(56),s=t(29),i=t(3),d=t(127),m=t(126),p=t(17),u=t(18),E=t(22),h=t(20),_=t(25),b=t(57),v=t.n(b),f=function(e){return{type:"ADD_CONTACT",payload:e}},y=function(e){return{type:"DELETE_CONTACT",payload:e}},C=function(e,a,t){return{type:"SAVE_EDIT_FIELDS",payload:{id:e,fieldName:a,value:t}}},N=t(98),O=t(60),g=t(62),j=t(74),F=t(99),S=t(93),L=t.n(S),w=t(28),x=t.n(w),D=L.a.bind(x.a),k=function(e){var a=e.label,t=Object(F.a)(e,["label"]),n=Object(O.c)(t),r=Object(j.a)(n,2),l=r[0],o=r[1],s=D({entryField:!0,hasError:o.touched&&o.error});return c.a.createElement("div",{className:x.a.addContactForm},c.a.createElement("label",{className:x.a.fieldHeader,htmlFor:t.id||t.name},a),c.a.createElement("input",Object.assign({},l,t,{className:s})),c.a.createElement("div",{className:x.a.formMessage},o.touched&&o.error?c.a.createElement(c.a.Fragment,null,o.error):null))},P=[{label:"Name",name:"name",type:"text",placeholder:"Tsapko Evgenii"},{label:"Phone",name:"phone",type:"tel",placeholder:"+7(965)723-41-49"},{label:"Address",name:"address",type:"text",placeholder:"Ylitsa Stroiteleii, 16/24"},{label:"Company",name:"company",type:"text",placeholder:"Deko-line"},{label:"Email",name:"email",type:"email",placeholder:"TsapkoZh@gmail.com"}],A=function(e){return c.a.createElement("div",{className:x.a.addContactFormWrapper},c.a.createElement("h1",{className:x.a.title},"add contact"),c.a.createElement(O.b,{initialValues:{name:"",phone:"",address:"",company:"",email:""},validationSchema:g.a({name:g.b().max(30,"Must be 30 characters or less").required("Required"),phone:g.b().max(20,"Must be 20 characters or less").required("Required"),email:g.b().email("Invalid email address").required("Required")}),onSubmit:function(a,t){var n=t.setSubmitting,c=t.resetForm;n(!0),c(),e.addContact(Object(N.a)({id:Date.now().toString()},a))}},c.a.createElement(O.a,{className:x.a.formWrapper},P.map((function(e){return c.a.createElement(k,Object.assign({},e,{key:e.name}))})),c.a.createElement("button",{className:x.a.btnWriteDown,type:"submit"},"ADD CONTACT"))))},T=t(94),I=t.n(T),M=t(79),W=t.n(M),K=function(e){Object(E.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).handleKeyPress=function(a){var t={search:a.currentTarget.value.toLowerCase()},n=v.a.stringify(t);e.props.history.push({search:n})},e}return Object(u.a)(t,[{key:"render",value:function(){var e=v.a.parse(this.props.location.search).search;return c.a.createElement("div",{className:W.a.filterWrapper},c.a.createElement("img",{src:I.a,className:W.a.search,alt:"search"}),c.a.createElement("input",{value:e,className:W.a.searchField,onChange:this.handleKeyPress}))}}]),t}(n.PureComponent),H=Object(i.f)(K),U=t(2),q=t.n(U),R=t(9),J=t.n(R),B=t(65),V=function(e){Object(E.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(p.a)(this,t),(n=a.call(this,e)).handleDblClick=function(){n.setState({isEdit:!0}),window.addEventListener("keydown",n.handleKeyUpEnter),window.addEventListener("keydown",n.handleKeyUpEscape)},n.handleChange=function(e){var a=e.currentTarget.value.trim();""!==a&&n.setState({value:a})},n.handleSave=function(){var e=n.props.name,a=n.state.value;n.props.saveEditFields(e,a),n.setState({isEdit:!1})},n.handleKeyUpEnter=function(e){"Enter"===e.key&&n.handleSave()},n.handleKeyUpEscape=function(e){"Escape"===e.key&&n.handelCancel()},n.handelCancel=function(){n.setState({isEdit:!1,value:n.props.value}),window.removeEventListener("keydown",n.handleKeyUpEnter),window.removeEventListener("keydown",n.handleKeyUpEscape)},n.state={isEdit:!1,value:e.value},n}return Object(u.a)(t,[{key:"render",value:function(){var e=this.state,a=e.isEdit,t=e.value,n=this.props,r=n.name,l=n.type,o=n.maxLength;return c.a.createElement("td",{className:"".concat(J.a.tableCell," ").concat(J.a.name),onDoubleClick:this.handleDblClick},a?c.a.createElement("input",{name:r,type:l,maxLength:o,value:t,onChange:this.handleChange,onBlur:this.handleSave,onKeyPress:this.handleKeyUp,autoFocus:!0,className:J.a.editContact}):c.a.createElement("span",null,t))}}]),t}(n.PureComponent),Z=t(95),G=t.n(Z),Y=[{name:"name",type:"text",maxLength:"30"},{name:"phone",type:"tel",maxLength:"20"},{name:"address",type:"text",maxLength:"30"},{name:"company",type:"text",maxLength:"20"},{name:"email",type:"email",maxLength:"500"}],z=function(e){Object(E.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).handleDelete=function(){var a=e.props,t=a.id;(0,a.deleteContact)(t)},e.handleSaveEdit=function(a,t){var n=e.props,c=n.id;(0,n.saveEditFields)(c,a,t)},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.index,n=a.id;return c.a.createElement("tr",null,c.a.createElement("td",{className:"".concat(J.a.serialNumber)},c.a.createElement("p",null,t+1)),Y.map((function(a){return c.a.createElement(V,Object.assign({},a,{key:a.name,value:e.props[a.name],saveEditFields:e.handleSaveEdit}))})),c.a.createElement("td",{className:"".concat(J.a.tableCell)},c.a.createElement("button",{type:"button",onClick:this.handleDelete,className:J.a.del},"\xd7")),c.a.createElement("td",{className:"".concat(J.a.tableCell)},c.a.createElement(B.a,{to:"/items/".concat(n)},c.a.createElement("img",{src:G.a,alt:"detail"}))))}}]),t}(n.PureComponent),Q=[{title:"",id:"1"},{title:"NAME",id:"2"},{title:"PHONE",id:"3"},{title:"ADDRESS",id:"4"},{title:"COMPANY",id:"5"},{title:"EMAIL",id:"6"},{title:"",id:"7"},{title:"",id:"8"}],X=function(e){Object(E.a)(t,e);var a=Object(h.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props,a=e.contacts,t=e.deleteContact,n=e.saveEditFields;return c.a.createElement("table",{className:J.a.table},c.a.createElement("colgroup",null,c.a.createElement("col",{className:J.a.colSerNum}),c.a.createElement("col",{className:J.a.colName}),c.a.createElement("col",{className:J.a.colPhone}),c.a.createElement("col",{className:J.a.colAddress}),c.a.createElement("col",{className:J.a.colCompany}),c.a.createElement("col",{className:J.a.colEmail}),c.a.createElement("col",{className:J.a.colDelProp,span:"2"})),c.a.createElement("tbody",null,c.a.createElement("tr",null,Q.map((function(e){return c.a.createElement("td",{key:e.id,className:J.a.tableCellHeader},e.title)}))),a.map((function(e,a){var r=e.id,l=e.name,o=e.phone,s=e.address,i=e.company,d=e.email;return c.a.createElement(z,{key:r,id:r,name:l,phone:o,address:s,company:i,email:d,index:a,deleteContact:t,saveEditFields:n})}))))}}]),t}(n.PureComponent);z.propTypes={name:q.a.string,phone:q.a.string,address:q.a.string,company:q.a.string,email:q.a.string,deleteContact:q.a.func,saveEditFields:q.a.func};var $=X,ee=t(61),ae=t.n(ee),te=function(e){Object(E.a)(t,e);var a=Object(h.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props,a=e.contacts,t=e.addContact,n=e.deleteContact,r=e.saveEditFields;return c.a.createElement("div",{className:ae.a.wrapperContacts},c.a.createElement("div",{className:ae.a.wrap},c.a.createElement("h1",{className:ae.a.title},"phone book"),c.a.createElement("div",{className:ae.a.wrapper},c.a.createElement(H,null),c.a.createElement($,{contacts:a,deleteContact:n,saveEditFields:r}))),c.a.createElement(A,{addContact:t}))}}]),t}(n.PureComponent),ne=function(e){Object(E.a)(t,e);var a=Object(h.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props,a=e.contacts,t=e.addContact,n=e.saveEditFields,r=e.deleteContact;return c.a.createElement(te,{contacts:a,addContact:t,deleteContact:r,saveEditFields:n})}}]),t}(n.PureComponent),ce=function(e,a){var t=v.a.parse(a).search;return t?e.filter((function(e){return Object.keys(e).some((function(a){return e[a].toLowerCase().includes(t)}))})):e},re=Object(s.c)((function(e){return{contacts:ce(e.contacts,e.router.location.search)}}),(function(e){return Object(_.bindActionCreators)({addContact:f,deleteContact:y,saveEditFields:C},e)}))(ne),le=t(24),oe=t.n(le),se=Object(s.c)((function(e,a){var t=a.match.params.itemId;return{contact:e.contacts.find((function(e){return e.id===t}))}}))((function(e){var a=e.contact,t=a.name,n=a.phone,r=a.address,l=a.company,o=a.email;return c.a.createElement("div",{className:oe.a.contactProperties},c.a.createElement("h1",{className:oe.a.contactName},t),c.a.createElement("div",{className:oe.a.contactDetail},c.a.createElement("h5",{className:oe.a.detailName},"PHONE"),c.a.createElement("p",{className:oe.a.detail},n),c.a.createElement("h5",{className:oe.a.detailName},"ADDRESS"),c.a.createElement("p",{className:oe.a.detail},r),c.a.createElement("h5",{className:oe.a.detailName},"COMPANY"),c.a.createElement("p",{className:oe.a.detail},l),c.a.createElement("h5",{className:oe.a.detailName},"EMAIL"),c.a.createElement("p",{className:oe.a.detail},o)))}));t(123);var ie=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,{render:function(e){var a=e.location;return c.a.createElement(d.a,null,c.a.createElement(m.a,{key:a.key,timeout:450,classNames:"fade"},c.a.createElement(i.c,{location:a},c.a.createElement(i.a,{exact:!0,path:"/phoneBook",component:re}),c.a.createElement(i.a,{exact:!0,path:"/items/:itemId",component:se}))))}}))},de=t(88),me=t(96),pe=t(14),ue=t(97),Ee=[],he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_CONTACT":return[].concat(Object(ue.a)(e),[a.payload]);case"DELETE_CONTACT":return e.filter((function(e){return e.id!==a.payload}));case"SAVE_EDIT_FIELDS":return e.map((function(e){if(e.id===a.payload.id){var t=Object(j.a)(a.payload.value,1);a.payload.nameField=t[0]}return e}));default:return e}},_e=function(e){return Object(_.combineReducers)({router:Object(o.b)(e),contacts:he})},be=localStorage.getItem("reduxState")?{contacts:JSON.parse(localStorage.getItem("reduxState"))}:{},ve=Object(pe.a)();var fe,ye=(fe=be,Object(_.createStore)(_e(ve),fe,Object(_.compose)(Object(_.applyMiddleware)(Object(de.a)(ve)),Object(me.devToolsEnhancer)())));ye.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(ye.getState().contacts))}));var Ce=c.a.createElement(s.a,{store:ye},c.a.createElement(o.a,{history:ve},c.a.createElement(ie,null)));l.a.render(Ce,document.getElementById("root"))},24:function(e,a,t){e.exports={contactProperties:"contactProperties_contactProperties__3H4Su",contactName:"contactProperties_contactName__qNhLm",contactDetail:"contactProperties_contactDetail__3UCiM",detailName:"contactProperties_detailName__3hCI3",detail:"contactProperties_detail__xLh7J"}},28:function(e,a,t){e.exports={addContactFormWrapper:"addContactForm_addContactFormWrapper__1bqNr",addContactForm:"addContactForm_addContactForm__2j-HP",formWrapper:"addContactForm_formWrapper__2yNyA",title:"addContactForm_title__52-Zs",entryField:"addContactForm_entryField__1GBeh",hasError:"addContactForm_hasError__3-AFs",fieldHeader:"addContactForm_fieldHeader__2_28f",btnWriteDown:"addContactForm_btnWriteDown__1dMN9",formMessage:"addContactForm_formMessage__2Uavp"}},61:function(e,a,t){e.exports={wrapperContacts:"contacts_wrapperContacts__m3Fzn",title:"contacts_title__1R7cy",wrapper:"contacts_wrapper__3z4po"}},79:function(e,a,t){e.exports={filterWrapper:"filter_filterWrapper__1GyEa",search:"filter_search__1QLME",searchField:"filter_searchField__1KPxW"}},9:function(e,a,t){e.exports={table:"contactList_table__ZmKAs",tableCellHeader:"contactList_tableCellHeader__rOyC2",tableCell:"contactList_tableCell__1F4aX",editContact:"contactList_editContact__1etSS",serialNumber:"contactList_serialNumber__7J4px",del:"contactList_del__1w9U0",colSerNum:"contactList_colSerNum__FaE34",colName:"contactList_colName__3N6NL",colPhone:"contactList_colPhone__6GIT4",colAddress:"contactList_colAddress__1Omg8",colCompany:"contactList_colCompany__2mvnH",colEmail:"contactList_colEmail__1Vwot",colDelProp:"contactList_colDelProp__2LZ0S"}},94:function(e,a,t){e.exports=t.p+"static/media/search.822bc171.svg"},95:function(e,a,t){e.exports=t.p+"static/media/detail.01eb1f84.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.e88a2ab1.chunk.js.map